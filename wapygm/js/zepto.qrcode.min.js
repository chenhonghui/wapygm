(function(g){g.fn.qrcode=function(a){"string"===typeof a&&(a={text:a});a=g.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},a);return this.each(function(){var b=new QRCode(a.typeNumber,a.correctLevel);b.addData(a.text);b.make();var f=document.createElement("canvas");f.width=a.width;f.height=a.height;for(var h=f.getContext("2d"),e=a.width/b.getModuleCount(),k=a.height/b.getModuleCount(),c=0;c<b.getModuleCount();c++)for(var d=
0;d<b.getModuleCount();d++){h.fillStyle=b.isDark(c,d)?a.foreground:a.background;var l=Math.ceil((d+1)*e)-Math.floor(d*e),m=Math.ceil((c+1)*e)-Math.floor(c*e);h.fillRect(Math.round(d*e),Math.round(c*k),l,m)}g(f).appendTo(this)})}})(Zepto);